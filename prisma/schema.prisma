generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/.prisma/client"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Order {
  id             String      @id @default(uuid())
  tx_ref         String      @unique
  service_type   String
  status         OrderStatus
  form_data      Json?
  created_at     DateTime    @default(now())
  customer_name  String?
  customer_phone String?
  customer_email String?
  chapa_ref      String?     @unique
  paid_at        DateTime?
  expires_at     DateTime?   @map("expires_at")
  pdf_url        String?     @map("pdf_url")
}

enum OrderStatus {
  DRAFT
  PENDING
  PAID
  FAILED
}
